<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Pagination · Hot Chocolate</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Pagination is one of the common problems that you have to solve when implementing your backend. Often, sets of data are to large to pass them directly to the consumer of your service."/><meta name="docsearch:version" content="9.0.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Pagination · Hot Chocolate"/><meta property="og:type" content="website"/><meta property="og:url" content="https://hotchocolate.io/"/><meta property="og:description" content="Pagination is one of the common problems that you have to solve when implementing your backend. Often, sets of data are to large to pass them directly to the consumer of your service."/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://hotchocolate.io/img/cupcake.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-72800164-3', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster:700,400"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/signet.svg" alt="Hot Chocolate"/><h2 class="headerTitleWithLogo">Hot Chocolate</h2></a><a href="/versions"><h3>9.0.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/9.0.0/introduction" target="_self">Docs</a></li><li class=""><a href="/docs/9.0.0/example-star-wars-code-first" target="_self">Examples</a></li><li class=""><a href="https://chillicream.com/blog" target="_blank">Blog</a></li><li class=""><a href="https://github.com/ChilliCream/hotchocolate" target="_blank">GitHub</a></li><li class=""><a target="_self"></a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/9.0.0/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/code-first">Code-first</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema-first">Schema-first</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Schema Definition</h4><ul><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema">Schema</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema-object-type">Object Type</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema-interface-type">Interface Type</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema-union-type">Union Type</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema-input-object-type">Input Object Type</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema-enum-type">Enum Type</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/schema-descriptions">Schema Descriptions</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/custom-scalar-types">Scalar Type Support</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/resolvers">Resolvers</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/9.0.0/dataloaders">Data Loaders</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/9.0.0/pagination">Pagination</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/dependency-injection">Dependency Injection</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/authorization">Authorization</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/middleware">Middleware</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/custom-context">Custom Context Data</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/options">Options</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/type-conversion">Type Conversion</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/aspnet">ASP.NET</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/parser">Parser</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/errors">Error Filter</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/security">Security</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/validation-rule">Validation Rules</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/stitching">Schema Stitching</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/instrumentation">Instrumentation</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/apollo-tracing">Apollo Tracing</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/conventions">Conventions</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/extending-types">Extending Types</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/relay">Relay</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/9.0.0/migration">Migrating from 0.6.x</a></li><li class="navListItem"><a class="navItem" href="/docs/9.0.0/dotnet-cli">.NET CLI</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/ChilliCream/hotchocolate-docs/edit/master/docs/pagination.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Pagination</h1></header><article><div><span><p>Pagination is one of the common problems that you have to solve when implementing your backend. Often, sets of data are to large to pass them directly to the consumer of your service.</p>
<p>Pagination solves this problem by giving the consumer the capability to fetch a set in chunks.</p>
<p>There are various ways to implement pagination in your server and you can basically do what ever feels best for you.</p>
<p>However, there are two models that you see in most GraphQL server implementations and we have some specific helpers for the later one.</p>
<h2><a class="anchor" aria-hidden="true" id="offset-based"></a><a href="#offset-based" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Offset-based</h2>
<p>Offset-based pagination — also called numbered pages — is a very common pattern.</p>
<p>Offset-based pagination is found in many server implementation whether the backend is implemented in <em>SOAP</em>, <em>REST</em> or <em>GraphQL</em>.</p>
<p>Most databases enable you to simply skip and take records. The simplest way to provide such a capability is to add an argument skip and an argument take like in the following example.</p>
<pre><code class="hljs css language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Query</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> _strings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"g"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> IEnumerable<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> <span class="token function">GetStrings</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">?</span> skip<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">?</span> take<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        IEnumerable<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> strings <span class="token operator">=</span> _strings<span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>skip<span class="token punctuation">.</span>HasValue<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            strings <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">Skip</span><span class="token punctuation">(</span>skip<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>take<span class="token punctuation">.</span>HasValue<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            strings <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">Take</span><span class="token punctuation">(</span>take<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> strings<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="relay-style-cursor-pagination"></a><a href="#relay-style-cursor-pagination" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Relay-style cursor pagination</h2>
<p>In cursor-based pagination, a cursor is used to keep track of where in the data set the next items should be fetched from. The cursor can contain various information like the index of the record within the set and properties that the server can use to recreate the set.</p>
<p>Relay’s support for pagination relies on the GraphQL server exposing connections in a standardized way. In the query, the connection model provides a standard mechanism for slicing and paginating the result set.</p>
<p><em>Hot Chocolate</em> provides many helpers to make implementing a relay-style cursor pagination a simple task.</p>
<h3><a class="anchor" aria-hidden="true" id="pagination-support-through-iqueryable-t"></a><a href="#pagination-support-through-iqueryable-t" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pagination support through <code>IQueryable&lt;T&gt;</code></h3>
<p>Let us start with something simple and then drill deeper into more complex solutions. For our first example let us assume we have an in-memory list of strings that we do want to expose as paginated list.</p>
<pre><code class="hljs css language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Query</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> ICollection<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> Strings <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"g"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In order to tell <em>Hot Chocolate</em> that an <code>IEnumerable&lt;T&gt;</code> or an <code>IQueryable&lt;T&gt;</code> shall be exposed as page-able list in our schema we have to declare that in a schema type.</p>
<pre><code class="hljs css language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryType</span>
    <span class="token punctuation">:</span> <span class="token class-name">ObjectType</span><span class="token operator">&lt;</span>Query<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Configure</span><span class="token punctuation">(</span>IObjectTypeDescriptor<span class="token operator">&lt;</span>Query<span class="token operator">></span> descriptor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        descriptor<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">.</span>Strings<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UsePaging</span><span class="token punctuation">&lt;</span><span class="token class-name">StringType</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>UsePaging</code> adds the relay-style cursor pagination arguments defined by the spec, defines the return type of the field to be <code>ConnectionType&lt;StringType&gt;</code> and adds a paging field middleware to the field resolver pipeline.</p>
<p>The middleware can handle <code>IQueryable&lt;T&gt;</code> and <code>IEnumerable&lt;T&gt;</code>. This means that you can apply the middleware also to database drivers like entity framework or the Mongo db client.</p>
<p>The database drivers will translate the queryable actions into native database queries.</p>
<p>If you now want to support filtering and/or sorting on a page-able list you have to feed the sorting properties to the paging middleware so that the middleware can include them into the cursors. The cursors can than be used to recreate the data set in fetch more queries.</p>
<p>Let's enhance our example and add the capability to sort our list in descending order.</p>
<p>We will do that by adding another argument <code>descending</code> to our field. If the argument is set to <code>true</code> than the list is sorted by descending order otherwise the set is sorted in ascending order.</p>
<pre><code class="hljs css language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryType</span>
    <span class="token punctuation">:</span> <span class="token class-name">ObjectType</span><span class="token operator">&lt;</span>Query<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Configure</span><span class="token punctuation">(</span>IObjectTypeDescriptor<span class="token operator">&lt;</span>Query<span class="token operator">></span> descriptor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        descriptor<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">.</span>Strings<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Argument</span><span class="token punctuation">(</span><span class="token string">"descending"</span><span class="token punctuation">,</span> a <span class="token operator">=></span> a<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Type</span><span class="token punctuation">&lt;</span><span class="token class-name">BooleanType</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UsePaging</span><span class="token punctuation">&lt;</span><span class="token class-name">StringType</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Resolver</span><span class="token punctuation">(</span>ctx <span class="token operator">=></span>
            <span class="token punctuation">{</span>
                IDictionary<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token operator">></span> cursorProperties <span class="token operator">=</span>
                    ctx<span class="token punctuation">.</span><span class="token function">GetCursorProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// get the sort order from the sorting argument or from a cursor that was passed in.</span>
                <span class="token keyword">bool</span> <span class="token keyword">descending</span> <span class="token operator">=</span> cursorProperties<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span><span class="token string">"descending"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">object</span> d<span class="token punctuation">)</span>
                    <span class="token punctuation">?</span> <span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span>d
                    <span class="token punctuation">:</span> ctx<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Argument</span><span class="token punctuation">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token string">"descending"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// set the cursor sorting property.</span>
                cursorProperties<span class="token punctuation">[</span><span class="token string">"descending"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">descending</span><span class="token punctuation">;</span>

                IEnumerable<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> strings <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Parent</span><span class="token punctuation">&lt;</span><span class="token class-name">Query</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Strings<span class="token punctuation">;</span>

                <span class="token comment">// return the sorted string dataset with the cursor properties.</span>
                <span class="token keyword">return</span> <span class="token keyword">descending</span>
                    <span class="token punctuation">?</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">PageableData</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">OrderByDescending</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">)</span><span class="token punctuation">,</span> cursorProperties<span class="token punctuation">)</span>
                    <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">PageableData</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">OrderBy</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">)</span><span class="token punctuation">,</span> cursorProperties<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The previous example shows how we can access the cursor sorting properties and how we can pass the cursor sorting properties to the middleware.</p>
<p>Our default solution makes it very easy to provide paging capabilities, but a custom optimized paging could yield better performance.</p>
<p>For this you can extend our <code>QueryableConnectionResolver</code> implementation or opt in to implement <code>IConnection</code> by yourself.</p>
<p>Let us first have a look how you can pass in an extended queryable resolver to our paging middleware.</p>
<pre><code class="hljs css language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryType</span>
    <span class="token punctuation">:</span> <span class="token class-name">ObjectType</span><span class="token operator">&lt;</span>Query<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Configure</span><span class="token punctuation">(</span>IObjectTypeDescriptor<span class="token operator">&lt;</span>Query<span class="token operator">></span> descriptor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        descriptor<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">.</span>Strings<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Argument</span><span class="token punctuation">(</span><span class="token string">"descending"</span><span class="token punctuation">,</span> a <span class="token operator">=></span> a<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Type</span><span class="token punctuation">&lt;</span><span class="token class-name">BooleanType</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UsePaging</span><span class="token punctuation">&lt;</span><span class="token class-name">StringType</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> pagingDetails<span class="token punctuation">)</span> <span class="token operator">=></span>
                <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">QueryableConnectionResolver</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>
                    source<span class="token punctuation">,</span> pagingDetails<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Resolver</span><span class="token punctuation">(</span>ctx <span class="token operator">=></span>
            <span class="token punctuation">{</span>
                IDictionary<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token operator">></span> cursorProperties <span class="token operator">=</span>
                    ctx<span class="token punctuation">.</span><span class="token function">GetCursorProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// get the sort order from the sorting argument or from a cursor that was passed in.</span>
                <span class="token keyword">bool</span> <span class="token keyword">descending</span> <span class="token operator">=</span> cursorProperties<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span><span class="token string">"descending"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token keyword">object</span> d<span class="token punctuation">)</span>
                    <span class="token punctuation">?</span> <span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span>d
                    <span class="token punctuation">:</span> ctx<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Argument</span><span class="token punctuation">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token string">"descending"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// set the curosr sorting property.</span>
                cursorProperties<span class="token punctuation">[</span><span class="token string">"descending"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">descending</span><span class="token punctuation">;</span>

                IEnumerable<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span> strings <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Parent</span><span class="token punctuation">&lt;</span><span class="token class-name">Query</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Strings<span class="token punctuation">;</span>

                <span class="token comment">// return the sorted string dataset with the cursor properties.</span>
                <span class="token keyword">return</span> <span class="token keyword">descending</span>
                    <span class="token punctuation">?</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">PageableData</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">OrderByDescending</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">)</span><span class="token punctuation">,</span> cursorProperties<span class="token punctuation">)</span>
                    <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">PageableData</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">OrderBy</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">)</span><span class="token punctuation">,</span> cursorProperties<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The <code>UsePaging</code> extension provides an overload in which you can pass in a factory that creates a connection resolver.</p>
<h3><a class="anchor" aria-hidden="true" id="pagination-support-for-stored-procedures-and-other-sources"></a><a href="#pagination-support-for-stored-procedures-and-other-sources" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pagination support for stored procedures and other sources</h3>
<p>In case you want to provide pagination support for stored procedures or other data sources <em>Hot Chocolate</em> allows you to do that as well.</p>
<p>Our generic connection type expects the executed page to be of the type <code>IConnection</code>. So, basically the field resolver just has to return a class implementing that interface or using our default implementation <code>Connection&lt;T&gt;</code>.</p>
<pre><code class="hljs css language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryType</span>
    <span class="token punctuation">:</span> <span class="token class-name">ObjectType</span><span class="token operator">&lt;</span>Query<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Configure</span><span class="token punctuation">(</span>IObjectTypeDescriptor<span class="token operator">&lt;</span>Query<span class="token operator">></span> descriptor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        descriptor<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span><span class="token string">"strings"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">AddPagingArguments</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>Type<span class="token operator">&lt;</span>ConnectionType<span class="token operator">&lt;</span>StringType<span class="token operator">>></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Resolver</span><span class="token punctuation">(</span>ctx <span class="token operator">=></span>
            <span class="token punctuation">{</span>
                <span class="token comment">// resolver logic that returns IConnection data.</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You can implement your data resolver logic as resolver or if it is generalized enough you could implement it as a field middleware.</p>
<p>A field middleware can be declared on the field or on the schema depending on what you want to do.</p>
<p>Let's say you want to write a middleware to provide pagination support specifically for SQL server than you could provide that as a middleware like we did for <code>IQueryable&lt;T&gt;</code>.</p>
<p>If you need help implementing a pagination solution just reach out to us and we are happy to help you.</p>
<p><a href="http://facebook.github.io/relay/graphql/connections.htm">Relay Cursor Connections Specification</a></p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2019-2-4 by Sean Allred</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/9.0.0/dataloaders"><span class="arrow-prev">← </span><span>Data Loaders</span></a><a class="docs-next button" href="/docs/9.0.0/dependency-injection"><span>Dependency Injection</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#offset-based">Offset-based</a></li><li><a href="#relay-style-cursor-pagination">Relay-style cursor pagination</a><ul class="toc-headings"><li><a href="#pagination-support-through-iqueryable">Pagination support through <code>IQueryable</code></a></li><li><a href="#pagination-support-for-stored-procedures-and-other-sources">Pagination support for stored procedures and other sources</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/signet.svg" alt="Hot Chocolate" width="64" height="64"/></a><div><h5>Docs</h5><a href="/docs/introduction.html">Quickstart</a><a href="/docs/code-first.html">Code-First</a><a href="/docs/options.html">General</a></div><div><h5>Examples</h5><a href="/docs/example-star-wars-code-first.html">Star Wars</a></div><div><h5>Community</h5><a href="https://join.slack.com/t/hotchocolategraphql/shared_invite/enQtNTA4NjA0ODYwOTQ0LTBkZjNjZWIzMmNlZjQ5MDQyNDNjMmY3NzYzZjgyYTVmZDU2YjVmNDlhNjNlNTk2ZWRiYzIxMTkwYzA4ODA5Yzg" target="_blank" rel="noreferrer noopener">Join us on Slack</a><a href="https://twitter.com/Chilli_Cream" target="_blank" rel="noreferrer noopener">Follow us on Twitter</a><a href="http://stackoverflow.com/questions/tagged/hotchocolate" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="https://chillicream.com/blog" target="_blank">Blog</a><a href="https://github.com/ChilliCream/hotchocolate" target="_blank">GitHub</a><a href="https://github.com/ChilliCream/hotchocolate/issues" target="_blank">Issues</a><a class="github-button" href="https://github.com/ChilliCream/hotchocolate" data-icon="octicon-star" data-count-href="/chillicream/hotchocolate/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 <a href="https://chillicream.com" target="_blank">ChilliCream</a></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '47d61652587888cd5144dcdd6fb9117b',
                indexName: 'hotchocolate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en","version:9.0.0"]}
              });
            </script></body></html>